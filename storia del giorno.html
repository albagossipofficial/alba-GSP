<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Storia del giorno – ALBA GOSSIP</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

<header class="navbar">
  <div class="logo-left">
    <img src="svg/logo-alba-gossip.svg" alt="ALBA GOSSIP">
  </div>
  <button class="menu-btn" id="menu-btn" aria-label="Apri menu">
    <span></span><span></span><span></span>
  </button>
</header>

<div class="overlay" id="overlay"></div>

<nav class="sidebar" id="sidebar">
  <a href="alba-gsp.html">ALBA GSP</a>
  <a href="storia-del-giorno.html" class="active">STORIA DEL GIORNO</a>
  <a href="vota.html">VOTA</a>
  <a href="contatti.html">CONTATTI</a>
  <a href="#">TERMINI D’USO</a>
  <a href="#">PRIVACY E POLICY</a>
</nav>

<main>
  <div class="main-content">

    <h1>STORIA DEL GIORNO</h1>

    <!-- BOTTONE VOTA -->
    <button class="send-btn" onclick="location.href='vota.html'">
      VOTA
    </button>

    <!-- RETTANGOLO STORIA -->
    <div id="story-container" style="
      width: 320px;
      max-width: 88vw;
      max-height: 75vh;
     aspect-ratio: 9 / 16;
      border-radius: 26px;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      box-shadow: 0 8px 22px rgba(0,0,0,0.15);
    ">
      <!-- contenuto dinamico -->
    </div>

  </div>
</main>

<footer>
  <div class="footer-left">
    <a href="https://www.instagram.com/alba__gossip" target="_blank"><img src="svg/logo-instagram.svg" class="icon"></a>
    <span>@alba__gossip</span>
  </div>

  <div class="footer-center">
    <img src="svg/logo-alba-gossip.svg" class="footer-logo">
  </div>

  <div class="footer-right">
    <button id="theme-toggle" aria-label="Cambia tema" aria-pressed="false">
      <svg viewBox="0 0 24 24" fill="none">
        <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="currentColor"/>
      </svg>
    </button>
  </div>
</footer>

<script>
/* ---------------- MENU ---------------- */
const menuBtn = document.getElementById('menu-btn');
const sidebar = document.getElementById('sidebar');
const overlay = document.getElementById('overlay');

function openSidebar(){
  sidebar.classList.add('open');
  overlay.classList.add('show');
  menuBtn.classList.add('active');
}
function closeSidebar(){
  sidebar.classList.remove('open');
  overlay.classList.remove('show');
  menuBtn.classList.remove('active');
}

menuBtn.addEventListener('click', () => {
  sidebar.classList.contains('open') ? closeSidebar() : openSidebar();
});
overlay.addEventListener('click', closeSidebar);

/* ---------------- STORIA DEL GIORNO ---------------- */

const stories = {
  // esempio:
  // "2025-12-14": "svg/storia-2025-12-14.svg"
};

const today = new Date().toISOString().split("T")[0];
const container = document.getElementById("story-container");

if (stories[today]) {
  container.innerHTML = `<img src="${stories[today]}" style="width:100%;height:100%;object-fit:cover;">`;
} else {
  container.innerHTML = `<img src="svg/nessuna-storia.svg" style="width:100%;height:100%;object-fit:cover;">`;
}

/* ---------------- TEMA CHIARO / SCURO ---------------- */

const themeToggle = document.getElementById('theme-toggle');
const body = document.body;

function setDarkMode(on){
  body.classList.toggle('dark', on);
  themeToggle.setAttribute('aria-pressed', String(on));
  themeToggle.innerHTML = on
    ? '<svg viewBox="0 0 24 24" fill="none"><path d="M12 3v2M12 19v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4M12 7a5 5 0 100 10 5 5 0 000-10z" stroke="currentColor" stroke-width="1.5"/></svg>'
    : '<svg viewBox="0 0 24 24" fill="none"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="currentColor"/></svg>';
}

const saved = localStorage.getItem('theme') === 'dark';
setDarkMode(saved);

themeToggle.addEventListener('click', () => {
  const isDark = !body.classList.contains('dark');
  setDarkMode(isDark);
  localStorage.setItem('theme', isDark ? 'dark' : 'light');
});
</script>

</body>
</html>
